{# admin base template from which all other templates will extend #}

{% set navigation_bar = [['dashboard', 'Dashboard'], ['pages', 'Pages'], ['content', 'Content'], ['themes', 'Themes'], ['search', 'Search']] %}
{# set the active page to be styled. Do this on every different page #}
{% set active_page = active_page|default('dashboard') %}


<!DOCTYPE html>
<head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        Light CMS |{% block title %}{% endblock %}
    </title>
    <style>
        {% block style %}
        @import url(https://fonts.googleapis.com/css?family=Raleway);
        @import '{{ app.request.basepath }}/css/admin_default_theme.css';
        {% endblock %}
    </style>



</head>
<body>


<header class="header">
    {% block header %}
        
        <p>
             Welcome home,{{ user.username }}
             {{ id }}
        </p>
    {% endblock %}    
</header>


  

<nav class="navbar">
    <ul>
       {% include 'admin/admin_mainNav.html.twig' %}
    </ul>
</nav>



    {# a sub div to hold a sub nav bar and a search box #}
<div class="sub-section"> 
    <nav class="sub-navbar">
        
        {% block subnavbar %}{% endblock %}
        
    </nav>
    <div class="sub-search">
        <input type="text" class="input-box" placeholder="search"></input><br>
        <a class="logout" href="{{ path('admin_logout') }}">Logout</a>
    </div>
</div>    
   


    {# main content area #}
    <div class="container">
        
            <div class="side-section">
                
                    {% block sidebar %}
                        <h3>Current Pages</h3>
    <p>Below is a list of your current pages</p>
    <p>
        Use the navbar to edit your pages.
    </p>
    <table>
    <tr>
        <th>
            PAGE
        </th>
        <th>
            DATE CREATED
        </th>
    </tr>

        {% for page in pages %}
        <tr>
        <td>{{ page.pagename }}</td>
        <td>{{ page.created }}</td>
        </tr>
        {% endfor %}


</table>
                        {% endblock %}
                </ul>    
            </div>
            <div class="main-section">
                {% block content %}

                {% endblock %}
            </div>
        
    </div>

<div class="iframe-preview">
    {% block iframe %}{% endblock %}
</div>
{# a space for a link to go backwards in the navigation tree #}
<div class="back-link">
    {% block back_link %}


</body>
{% endblock %}
</div>

{# the footer #}
{% block footer %}
<footer class="footer">
    &copy; Light CMS<br>
    {# the twig now function gives the current time with a filter for the current date (taken from the twig docs) #}
    {{ "now"|date(timezone="Europe/Dublin") }}
</footer>
{% endblock %}
{# javascript functions #}
{# the javscript functions will not be available on every page #}
{# so when they're needed, include them in a block in a template #}
{% block javascript %}

{% endblock %}

</body>
</html>
